name: 'Setup'
description: 'Setup java, gradle, and optionally gradle build cache'
inputs:
  cache:
    description: 'Whether to setup gradle build cache'
    required: false
    default: 'false'
runs:
  using: "composite"
  steps:
    - name: Set up JDK 15
      uses: actions/setup-java@v1
      with:
        java-version: 15

    - name: Grant execute permission for gradlew
      run: |
        chmod +x gradlew
        chmod +x tests/gradlew

    - name: Setup gradle build cache
      if: inputs.required == true || inputs.required == 'true'
      uses: ./.github/actions/setup-cache
